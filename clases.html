<!doctype html>
<head>
    <meta charset='utf-8' />
    <link rel="stylesheet" href='w3.css' />
    <link rel="stylesheet" href='local.css' />
    <style>
    table {
        border-collapse: collapse;
    }

    table, th, td {
        border: 1px solid black;
    }
    </style>
</head>
<body>

<script src='estructura_pagina.js'></script>

<script>
    var titulo = 'Clases';
    var id_pagina = 'clases';
    pre_pagina(titulo, id_pagina);
</script>

<h1>Clases</h1>

<p>Hasta ahora se han visto dos formas diferentes de definir objetos:</p>
<ul>
	<li><a href="http://localhost:8000/objetos.html#__2">Usando funciones</a></li>
	<li><a href="http://localhost:8000/estructuras_datos.html#__9">Usando mapas</a></li>
</ul>

<p>Por ejemplo:</p>
<code id="clases_antiguo.html"></code>
<script>insertar_codigo('src/clases/clases_antiguo.html', 'clases_antiguo.html');</script>

<p>Existe una forma adicional de crear objetos y es usando class.</p>
<code><pre>class Clase{
	constructor(...) {...}
};
</pre></code>

<p>Por ejemplo:</p>
<code id="clases_class.html"></code>
<script>insertar_codigo('src/clases/clases_class.html', 'clases_class.html');</script>

<p>Se podría realizar una herencia simplemente copiando los atributos y métodos de la clase padre en la clase hija. Como esta tarea es muy tediosa, se tienen dos formas de hacer la herencia, usando el método call (si la clase se ha definido usando una función) y usando extends (si la clase se ha definido usando class).</p>
<p>Para realizar herencia se usa el método call sobre el constructor de la clase padre en el constructor del hijo. Sólo se puede usar si la clase se ha definido usando funciones:</p>
<code id="clases_herencia.html"></code>
<script>insertar_codigo('src/clases/clases_herencia.html', 'clases_herencia.html');</script>

<p>Se puede realizar una herencia de forma similar a como se hace en Java usando extends. En el siguiente ejemplo la clase Cuadrado es hija de la clase Persona.</p>
<code id="clases_herencia2.html"></code>
<script>insertar_codigo('src/clases/clases_herencia2.html', 'clases_herencia2.html');</script>

<h1>Módulos</h1>

<p>Ya se dijo que Javascript se puede añadir al HTML insertándolo mediante la etiqueta script, o bien, haciendo un fichero con la extensión ".js" y escribiendo en el HTML:</p>

<code><pre>&lt;script src='archivo.js'&gt;&lt;/script&gt;
</pre></code>

<p>Si se añade de esta forma, se puede acceder a cualquier variable o función del archivo con la extensión ".js".</p>

<p>Existe otra forma de manejar los ficheros con la extensión ".js" y es creando módulos. Un módulo va a ser un archivo con la extensión ".js", pero sólo se pueden acceder a las variables o funciones que se hayan declarado como exportables. Por ejemplo:</p>
<code id="modulo1.js"></code>
<script>insertar_codigo('src/clases/modulo1.js', 'modulo1.js');</script>

<p>En el ejemplo anterior, las variables "a" y "objeto" se declaran como exportables usando "export". La sintaxis de export es:</p>

<code><pre>export {variable1, variable2, variable3,...}
</pre></code>

<p>Las variables "b" y "c" no se han declarado como exportables, por lo que no serán visibles desde otro módulo.</p>

<p>Hay dos formas de importar un módulo:</p>
<ul>
  <li>Usando import</li>
  <li>Usando script con el atributo "type='module'"</li>
</ul>

<p>En el siguiente ejemplo se importa "modulo1.js" usando import:</p>
<code id="modulo2.js"></code>
<script>insertar_codigo('src/clases/modulo2.js', 'modulo2.js');</script>

<p>Como se puede ver la sintaxis es:</p>
<code><pre>import {variable1, variable2, variable3,...} from "URL"
</pre></code>

<p>Es decir, se pone la lista de las variables a importar. También se debe indicar la URL del módulo.</p>

<div class='w3-panel w3-leftbar w3-sand w3-serif'>
  <p><strong>Importante:</strong> Si se pusiera en la URL "modulo1.js", se generaría un error y el módulo no se importaría. Se debe poner siempre "./ruta" o "http://URL". Es decir, se deberá escribir "./modulo1.js".</p>
</div>

<p>En el siguiente ejemplo se usa script con el atributo "type='module'":</p>
<code id="clases_modulos.html"></code>
<script>insertar_codigo('src/clases/clases_modulos.html', 'clases_modulos.html');</script>

<script>
    post_pagina(titulo, id_pagina);
</script>

</body>
</html>
